<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>System.Book</title><!-- Define o título da página que será exibido na aba do navegador -->
    <link rel="stylesheet" href="cadastro.css" /><!-- Vincula o arquivo CSS externo que define o estilo da página -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/><!-- Importa a biblioteca Font Awesome para ícones -->
    <link rel="icon" href="icone_livros.png"/> <!-- Define o ícone que aparece na aba do navegador-->
  
  </head>
  <body>
     <main class="principal"> <!-- A tag <main> contém o conteúdo principal da página -->
  
      <div class="menu"><!-- A tag <div> define uma seção genérica, aqui usada para o menu -->
        <div class="logo">
          <a href="login.html"><img class="log" src="Sem título (1).png"  width="350px" height="80px"/></a>
        </div> <!--fim da div logo-->
      </div><!-- fim da div menu -->
      
      <div class="biblioteca"><!-- Seção biblioteca -->

          <div class="icon"><!-- div para exibir um ícone -->  
            <img class="coruja" src="coruja-para-colorir-15-removebg.png" width="250px" /><!-- Exibe uma imagem de coruja -->
          </div><!-- fim da div icon -->
        
          <div class="cadastro"> <!-- Seção de cadastro de usuário -->
           
            <i class="fa-solid fa-circle-user i2" style="font-size: 40px"></i> <!-- Ícone de perfil, importado da biblioteca Font Awesome -->
            <h2 class="titulo">CADASTRE-SE</h2><!-- Título da seção de cadastro -->

            <div class="form"><!-- Seção do formulário de cadastro -->
             <form action="principal.html" onsubmit="return validarForm()" id="form">
                   <table><!--tabela para organizar bem o formulario-->
                    <tr>
                      <td>
                        <label for="no">Informe seu nome:</label><br><!--label para associar um rótulo de texto ao input do nome-->
                        <input type="text" name="no" id="no" placeholder="Nome completo" class="input" oninput="validarNome()" /><!--input para o nome, chamando a função que valida-->
                        <span class="msg">digite seu nome completo <br></span><!--mensagem de erro que só aparece se o nome não for validado-->
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <label for="user">Crie um Username:</label><br><!--label para associar um rótulo de texto ao input do user-->
                        <input type="text" name="user" id="user" placeholder="@exemplo" class="input"  oninput="validarUser()"/><!--input para o nome de usuário(username), chamando a função que valida o user.-->
                        <span class="msg">Seu user deve ter um "@"</span><!--mensagem de erro que só aparece se o user não for validado-->
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <label for="em">Informe seu email:</label><br><!--label para associar um rótulo de texto ao input do email-->
                        <input type="email" name="em" id="em" placeholder="exemplo@gmail.com" class="input" oninput="validarEmail()" /><!--input para o email, chamando a função que valida.-->
                        <span class="msg">Email inválido</span><!--mensagem de erro que só aparece se o email não for validado-->
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <label for="se">Crie uma senha:</label><br><!--label para associar um rótulo de texto ao input da senha-->
                        <input type="password" name="se" id="se" placeholder="Cadastre uma senha:" class="input"  oninput="validarSenha()"/><!--input para a senha, chamando a função que valida-->
                        <span class="msg">Senha fraca</span><!--mensagem de erro que só aparece se a senha não for validado-->
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <button type="submit">Fazer Login</button><!--botão para "enviar" o form-->
                      </td>
                    </tr>
                  </table><!--fim da tabela-->
             </form><!--fim do form-->
       <script>
              const form = document.getElementById('form'); //variavel que armazena o form
              const campo = document.querySelectorAll('.input');//variavel que armazena os textos do input
              const msg = document.querySelectorAll('.msg');//variavel que armazena as mensagens de erro
      
              function verErro(index){
              campo[index].style.border = "2px solid red";//quando essa função for chamada, a borda do input ficará vermelha
              msg[index].style.display = 'block';//a mensagem de erro aparece
          }
              function removeErro(index){
              campo[index].style.border = "1px solid";//quando essa função for chamada, a borda do input ficará normal
              msg[index].style.display = 'none';//a mensagem de erro some
          }
              function validarNome(){//função para verificar se o nome tem menos de 10 digitos
                  if (campo[0].value.length < 10) {
                    verErro(0);//se o nome tiver menos que 10 digitos, mostra a mensagem de erro
                  } else {
                   removeErro(0);//se não, a mensagem de erro some.
                  }
          }
              function validarUser(){//função para verificar se o user tem o caracter '@'
                  if (!campo[1].value.includes("@")) {
                     verErro(1);//se o texto não tiver '@'', aparece a mensagem de erro
                  } else {
                    removeErro(1);//se o texto tiver '@'', a mensagem de erro some
            }
          }
              function validarEmail(){//função para verificar se o user tem a estrutura "gmail.com"
                  if (!campo[2].value.includes("@gmail.com") ) {
                    verErro(2);//se o texto não tiver '@gmail.com', aparece a mensagem de erro
                  } else {
                    removeErro(2);//se o texto tiver '@gmail.com'', a mensagem de erro some
            }
          }
              function validarSenha(){//função para verificar se a senha tem menos de 6 digitos
                  if (campo[3].value.length < 6) {
                     verErro(3);//se a senha tiver menos que 6 digitos, mostra a mensagem de erro
                  } else {
                     removeErro(3); //se não, a mensagem de erro some.
                  }
          }
              function validarForm(){//função para validar os formulários
                  var nome = document.getElementById("no").value;//váriavel que armazena o nome
                  var user = document.getElementById("user").value;//váriavel que armazena o user
                  var email = document.getElementById("em").value;//váriavel que armazena o email
                  var senha = document.getElementById("se").value;//váriavel que armazena a senha
                 
                  if (nome == "" | user == "" || senha == "" || email == "") {//verifica se os inputs estão vazios
                     alert("Por favor, preencha os campos vazios.");
                     return false;//impede o envio do formulario vazio
                  } else {
                     return true;//se o estiver preenchido, permite o envio do formulario
                  } 
          }
    </script>     
            
   </div><!--fim da div form-cadastro-->

            <hr size="1px" style="margin-top: 10px;">

            <div class="i2"><!-- Ícones das redes sociais, todos importados da biblioteca Font Awesome -->
              <i class="fa-brands fa-instagram i2"></i>
              <i class="fa-brands fa-facebook i2"></i>
              <i class="fa-brands fa-google i2"></i>             
            </div><!-- fim da div i2 -->   

          </div><!-- fim da div cadastro -->
        </div><!-- fim da div biblioteca -->
    </main><!-- fim da tag main -->

    <footer><!--rodapé com algumas informações-->
      SYSTEM.BOOK <br><br>
      Criadores: João Vitor da Silva e Julia Gabriela <br>
      Professor: Anderson Pablo <br>
      Disciplina: Autoria Web <br>
    </footer>
  </body>
</html>